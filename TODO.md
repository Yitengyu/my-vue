1. fix directive bug
2. code opt.
3. support multi-directive on one element.